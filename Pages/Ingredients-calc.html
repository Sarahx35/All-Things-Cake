<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <title>Ingredients Calculator</title>
  </head>
  <body>


    <header>
      <h1 class="website-header">Ingredients Calculator</h1>
    </header>
    <main>
    <nav>
      <ul class="nav-bar">
        <li class="list-inline-nav-bar"><a href="/index.html">Home</a></li>
        <li class="list-inline-nav-bar">
          <a href="/Pages/Recipes.html">Recipes</a>
        </li>
        <li class="list-inline-nav-bar">
          <a href="/Pages/Ingredients-calc.html">Ingredients&nbsp;Calculator</a>
        </li>
        <li class="list-inline-nav-bar">
          <a href="/Pages/Contact_Us.html">Contact&nbsp;Us</a>
        </li>
      </ul>
    </nav>

    <form>
      <div class="form-group">
        <labelfor="exampleInputEmail1">Recipe</label>
        <br>
        <select id="recipes" class="recipes" onchange="updateRecipe()">
          <option>Select recipe</option>
          <option>Victoria Sponge</option>
          <option>Chocolate Cake</option>
          <option>Lemon Drizzle</option>
        </select>
        <br>
        <small id="emailHelp" class="form-text text-muted"
          >Choose from the list which recipe you would like to
          personalise.</small>
      </div>
      <div class="form-group">
        <label for="exampleInputEmail1">Number of people</label>
        <br>
        <select id="number-people" class="number-people">
          <option>Select a number</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
        </select>
        <br>
        <small id="emailHelp" class="form-text text-muted"
          >Baking for seven? Don't worry we will do the hard work for
          you.</small
        >
      </div>
      <p id="submit" class="btn btn-primary">Submit</p>
    </form>
    <div class="recipe-form-block">
      <div id="recipe-outcome-block">
        <p id="recipe-outcome-block-2"></p>
      </div>
      <div id="new-recipe-outcome">
        <p id="new-recipe-outcome-2"></p>
        <p id="new-recipe-outcome-3"><ul id = "new-recipe-list"></ul></p>
      </div>
    </div>

    <script>
      //Selecting Recipes
      const victoriaSponge = `Original Recipe (Serves 12):
        <ul>
          <li>4 eggs</li>
          <li>225g caster sugar</li>
          <li>225g self-raising flour</li>
          <li>2 tsp baking powder</li>
          <li>225g butter</li>
        </ul>`;
      const chocolateCake = `Original Recipe (Serves 12):
        <ul>
          <li>225g plain flour</li>
          <li>350g caster sugar</li>
          <li>85g cocoa powder</li>
          <li>1½ tsp baking powder</li>
          <li>1½ tsp bicarbonate of soda</li>
          <li>2 free-range eggs</li>
          <li>250ml milk</li>
          <li>125ml vegetable oil</li>
          <li>2 tsp vanilla extract</li>
          <li>250ml boiling water</li>
        </ul>`;
      const lemonDrizzle = `Original Recipe (Serves 12)
        <ul>
          <li>225 g unsalted butter</li>
          <li>300 g caster sugar</li>
          <li>225 g self-raising flour</li>
          <li>4 large eggs</li>
          <li>1 tsp. finely grated lemon zest</li>
          <li>1 tbsp. lemon juice</li>
        </ul>
        `;
      const noRecipe = "No Recipe Chosen";


      //Printing Original Recipe Text
      function updateRecipe() {
        let value = document.getElementById("recipes").value;
        if (value === "Victoria Sponge") {
          document.getElementById("recipe-outcome-block-2").innerHTML =
            victoriaSponge;
        } else if (value === "Chocolate Cake") {
          document.getElementById("recipe-outcome-block-2").innerHTML =
            chocolateCake;
        } else if (value === "Lemon Drizzle") {
          document.getElementById("recipe-outcome-block-2").innerHTML =
            lemonDrizzle;
        } else {
          document.getElementById("recipe-outcome-block-2").innerHTML =
            noRecipe;
        }
      }


      const submit = document.getElementById("submit");
      const submitClick = submit.addEventListener('click', clickOutcome);

      function clickOutcome() {
        let numValue = document.getElementById("number-people").value;
        if (numValue == 'Select a number') {
          let element = document.getElementById("new-recipe-outcome")
          element.classList.remove("none");    
          element.classList.add("none");        
        } else {
          document.getElementById('new-recipe-outcome-2').innerHTML = "Recipe for " + numValue + ":";
        }



        const updatedVictoriaSponge = {
          " eggs": 4,
          "g caster sugar": 225,
          "g self-raising flour": 225,
          " tsp baking powder": 2,
          "g butter": 225
        };

        const updatedChocolateCake = {
          "g plain flour": 225,
          "g caster sugar": 350,
          "g cocoa powder": 85,
          " tsp baking powder": 1.5,
          " tsp bicarbonate of soda": 1.5,
          " eggs": 2,
          "ml milk": 250,
          "ml vegetable oil": 125,
          " tsp vanilla extract": 2,
          "ml boiling water": 250
        }

        const updatedLemonDrizzle = {
          "g unsalted butter": 225,
          "g caster sugar": 300,
          "g self-raising flour": 225,
          " eggs": 4,
          " tsp lemon zest": 1,
          " tbsp lemon juice": 1
        }

        const noRecipe = "No Recipe Chosen";



        

        let value = document.getElementById("recipes").value;
        if (value === "Victoria Sponge") {
          const keys = Object.keys(updatedVictoriaSponge);
          const index = Object.values(updatedVictoriaSponge);
          let i = 0;
          let j = 0;
          let ingredientList = "";
          while (i < keys.length) {
            while (j < index.length) {
              let number = index[j];
              number = Math.round((number / 12) * numValue);
              let ingredient = keys[i];
            ingredientList += "<li>" + number + ingredient + "</li>"; 
            i++;
            j++;
            }
          }
          document.getElementById('new-recipe-list').innerHTML = ingredientList;
        } else if (value === "Chocolate Cake") {
          const keys = Object.keys(updatedChocolateCake);
          const index = Object.values(updatedChocolateCake);
          let i = 0;
          let j = 0;
          let ingredientList = "";
          while (i < keys.length) {
            while (j < index.length) {
              let number = index[j];
              number = Math.round((number / 12) * numValue);
              let ingredient = keys[i];
            ingredientList += "<li>" + number + ingredient + "</li>"; 
            i++;
            j++;
            }
          }
          document.getElementById('new-recipe-list').innerHTML = ingredientList;
        } else if (value === "Lemon Drizzle") {
          const keys = Object.keys(updatedLemonDrizzle);
          const index = Object.values(updatedLemonDrizzle);
          let i = 0;
          let j = 0;
          let ingredientList = "";
          while (i < keys.length) {
            while (j < index.length) {
              let number = index[j];
              number = Math.round((number / 12) * numValue);
              let ingredient = keys[i];
            ingredientList += "<li>" + number + ingredient + "</li>"; 
            i++;
            j++;
            }
          }
          document.getElementById('new-recipe-list').innerHTML = ingredientList;
        } else if (value === 'Select recipe') {
          let element = document.getElementById("new-recipe-outcome")
          element.classList.add("none");
        }
      }
    

    </script>
      <footer>
        <h3 class="find_my_food_blog">My Food Blog</h3>
        <figure>
          <a href="https://themakeupfoodie.wordpress.com/"
            ><img
              src="/Media/The_Makeup_Foodie_logos.jpeg"
              width="100"
              height="100"
              class="makeup_foodie_blog_img"
          /></a>
          <figcaption>
            <a href="https://themakeupfoodie.wordpress.com/">&copy; The Makeup Foodie 2023</a>
          </figcaption>
        </figure>
      </footer>
    </main>
  </body>
</html>
